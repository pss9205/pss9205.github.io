<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ko"><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" hreflang="ko" /><updated>2022-04-11T23:03:16+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">pss9205</title><author><name>pss9205</name></author><entry><title type="html">Docker ê¸°ë³¸ ì»¤ë§¨ë“œ</title><link href="http://localhost:4000/docker/2022/04/10/Docker-Basic.html" rel="alternate" type="text/html" title="Docker ê¸°ë³¸ ì»¤ë§¨ë“œ" /><published>2022-04-10T23:14:00+09:00</published><updated>2022-04-10T23:14:00+09:00</updated><id>http://localhost:4000/docker/2022/04/10/Docker-Basic</id><content type="html" xml:base="http://localhost:4000/docker/2022/04/10/Docker-Basic.html"><![CDATA[<h2 id="ì»¨í…Œì´ë„ˆ">ì»¨í…Œì´ë„ˆ</h2>

<p>í”„ë¡œì„¸ìŠ¤ ìˆ˜ì¤€ì˜ ê°€ìƒí™”. í”„ë¡œê·¸ë¨ ì½”ë“œì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê°™ì€ ì¢…ì†ëœ í•­ëª©ë“¤ì„ ë¬¶ì€ íŒ¨í‚¤ì§€</p>

<h3 id="ì»¨í…Œì´ë„ˆ-vs-ê°€ìƒë¨¸ì‹ ">ì»¨í…Œì´ë„ˆ vs ê°€ìƒë¨¸ì‹ </h3>

<p>ê°€ìƒ ë¨¸ì‹ ì€ ìì²´ ì»¤ë„ì„ í¬í•¨í•˜ëŠ” OSë¥¼ ì‹¤í–‰í•˜ì§€ë§Œ ì»¨í…Œì´ë„ˆëŠ” Host OSìœ„ì—ì„œ ì»¤ë„ì„ ê³µìœ í•˜ë©° ì‹¤í–‰ë¨.
ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆê°€ í›¨ì”¬ ê°€ë²¼ì›€</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[      Application     ]    [      Application     ]
[       Lib, Deps      ]    [       Lib, Deps      ]
[       Conatiner      ]    [           OS         ]
[        Docker        ]    [    Virtual Machine   ]
[          OS          ]    [      HyperVisor      ]
[          H/W         ]    [          H/W         ]
</code></pre></div></div>

<p>ê°€ìƒ ë¨¸ì‹  ìœ„ì— Docker Hostë¥¼ ëŒë¦°ë‹¤ë©´?
=&gt; ê°€ìƒí™”ì˜ ì¥ì , ì»¨í…Œì´ë„ˆì˜ ì¥ì ì„ ëª¨ë‘ ì±™ê¸¸ ìˆ˜ ìˆë‹¤. Easy to provision, decommission, Quickly scale</p>

<h2 id="ë„ì»¤ë€">ë„ì»¤ë€?</h2>

<blockquote>
  <p>ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ ê°€ìƒí™” í”Œë«í¼</p>
</blockquote>

<p>í”„ë¡œê·¸ë¨ì´ ì»¨í…Œì´ë„ˆ ìœ„ì—ì„œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— í”„ë¡œê·¸ë¨ ê°„ ìš”êµ¬í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „, OSë“±ì´ ë‹¬ë¼ë„ ì´ì— êµ¬ì• ë°›ì§€ ì•Šê³  ê° í”„ë¡œê·¸ë¨ë§Œì˜ í™˜ê²½ êµ¬ì¶• ê°€ëŠ¥<br />
í”„ë¡œê·¸ë¨ ì‹¤í–‰ì— í•„ìš”í•œ ëª¨ë“  ì„¤ì •ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— Devì„œë²„, Prodì„œë²„ì™€ ê°™ì´ ê°™ì€ í™˜ê²½ì„ ì¬ì„¤ì • í•˜ëŠ” ê²½ìš°ì—ë„ ì‰½ê²Œ í•  ìˆ˜ ìˆìŒ</p>

<h3 id="command">Command</h3>

<ul>
  <li>
    <p>run : docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰ì„ ìœ„í•œ ì»¤ë§¨ë“œ. ì´ë¯¸ì§€ê°€ ì—†ë‹¤ë©´ ë‹¤ìš´ ë°›ì€ í›„ ì‹¤í–‰</p>

    <blockquote>
      <p>docker run -d -p 80:80 docker/getting-started</p>
    </blockquote>

    <pre><code class="language-tip">containerëŠ” ì•ˆì— ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ìˆì„ë•Œë§Œ aliveìƒíƒœë¥¼ ìœ ì§€í•œë‹¤.
</code></pre>

    <p>ì˜µì…˜</p>

    <ol>
      <li>-d : ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰</li>
      <li>-I stdin / -t stdout : terminalê³¼ dockerë¥¼ ì—°ê²°í•˜ì—¬ interaction ê°€ëŠ¥í•˜ê²Œ í•´ì¤Œ</li>
      <li>-p : docker hostì™€ containerê°„ì˜ í¬íŠ¸ë¥¼ ë§¤í•‘
        <blockquote>
          <p>-p 80(host):5000(container)</p>
        </blockquote>
      </li>
      <li>-v : docker hostì™€ containerê°„ì˜ volume ë§¤í•‘<br />
ì»¨í…Œì´ë„ˆì•ˆì˜ ë°ì´í„°ëŠ” ì»¨í…Œì´ë„ˆê°€ ì •ì§€, ì‚­ì œë˜ë©´ ëª¨ë‘ ì œê±°ë˜ê¸° ë•Œë¬¸ì— í˜¸ìŠ¤íŠ¸ì˜ ë””ë ‰í† ë¦¬ë¥¼ ë§ˆìš´íŠ¸í•˜ì—¬ ì‚¬ìš©í•´ì•¼í•¨
        <blockquote>
          <p>-v hostpath:containerpath</p>
        </blockquote>
      </li>
      <li>-e : íŒ¨ìŠ¤ì›Œë“œì™€ ê°™ì´ ì„¤ì •ì´ í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
        <blockquote>
          <p>-e MYSQL_ROOT_PASSWORD=my-secret-pw</p>
        </blockquote>
      </li>
      <li>-attach : ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆì— ì—°ê²°</li>
    </ol>
  </li>
  <li>
    <p>ps : ì‹¤í–‰ì¤‘ì¸ container í”„ë¡œì„¸ìŠ¤ ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆìŒ</p>

    <blockquote>
      <p>docker ps</p>
    </blockquote>

    <p>ì˜µì…˜</p>

    <ol>
      <li>-a ì´ë¯¸ ì¢…ë£Œëœ í”„ë¡œì„¸ìŠ¤ ê¹Œì§€ ëª¨ë‘ í‘œì‹œ</li>
    </ol>
  </li>
  <li>stop : container ì •ì§€
    <blockquote>
      <p>docker stop {containerId}</p>
    </blockquote>
  </li>
  <li>rm : ì»¨í…Œì´ë„ˆ ë°ì´í„° ì‚­ì œ
    <blockquote>
      <p>docker rm {containerId}</p>
    </blockquote>
  </li>
  <li>images : imageëª©ë¡ í™•ì¸
    <blockquote>
      <p>docker images</p>
    </blockquote>
  </li>
  <li>rmi : ì´ë¯¸ì§€ ì‚­ì œ
    <blockquote>
      <p>docker rmi {imageId}</p>
    </blockquote>
  </li>
  <li>pull : ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
    <blockquote>
      <p>docker pull {imageName}:{tag}</p>
    </blockquote>
  </li>
  <li>exec : ì»¨í…Œì´ë„ˆì— ëª…ë ¹ì–´ ì‹¤í–‰
    <blockquote>
      <p>docker exec {containerId} {command}</p>
    </blockquote>
  </li>
  <li>inspect : ì»¨í…Œì´ë„ˆì˜ detailì •ë³´ë¥¼ json í˜•íƒœë¡œ ì¶œë ¥
    <blockquote>
      <p>docker inspect {containerId}</p>
    </blockquote>
  </li>
  <li>logs : ë¡œê·¸ë¥¼ ì¶œë ¥í•¨
    <blockquote>
      <p>docker logs {containerId}</p>
    </blockquote>
  </li>
</ul>]]></content><author><name>pss9205</name></author><category term="Docker" /><category term="docker" /><summary type="html"><![CDATA[ì»¨í…Œì´ë„ˆ]]></summary></entry><entry><title type="html">Matcher</title><link href="http://localhost:4000/unittest/2021/07/05/Matcher.html" rel="alternate" type="text/html" title="Matcher" /><published>2021-07-05T00:17:00+09:00</published><updated>2021-07-05T00:17:00+09:00</updated><id>http://localhost:4000/unittest/2021/07/05/Matcher</id><content type="html" xml:base="http://localhost:4000/unittest/2021/07/05/Matcher.html"><![CDATA[<p>unit test í”„ë ˆì„ì›Œí¬ë“¤ì€ ë§¤ì¹˜ë˜ëŠ” ì¡°ê±´ë“¤ì„ ì„œìˆ ì ìœ¼ë¡œ ë‚˜ì—´í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.<br />
ì´ë¥¼ í†µí•´ ê°œë°œìëŠ” í•„ìš”í•œ match ê·œì¹™ì„ ì§ì ‘ ì¡°í•©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ êµ¬ë¬¸ ì‘ì„±ì´ ê°€ëŠ¥í•´ì§„ë‹¤.<br />
javascriptì˜ jestëŠ” expectë¥¼ ì‚¬ìš©í•´ì„œ matcherë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , javaëŠ” hamcrestë¥¼ í†µí•´ ê°€ëŠ¥í•˜ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//java</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DollarTest</span> <span class="o">{</span>
  <span class="nd">@Test</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dollar</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">Dollar</span> <span class="n">five</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Dollar</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
    <span class="nc">Dollar</span> <span class="n">six</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Dollar</span><span class="o">(</span><span class="mi">6</span><span class="o">);</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">five</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">not</span><span class="o">(</span><span class="n">equalTo</span><span class="o">(</span><span class="n">six</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//javascript</span>
<span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">5 dollar is not equal to 6 dollar</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">five</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dollar</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
  <span class="kd">let</span> <span class="nx">six</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dollar</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">five</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">six</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="assertë¬¸-ë¹„êµ">assertë¬¸ ë¹„êµ</h3>

<p>ì¶œì²˜ : <a href="https://en.wikipedia.org/wiki/Hamcrest">wiki</a></p>

<ul>
  <li>
    <p>1st gen : assert(x==y)<br />
 assertë¬¸ ì•ˆì— true ì¡°ê±´ì„ ì§ì ‘ ì‘ì„±<br />
 ë¬¸ì œ : assertê°€ ì‹¤íŒ¨í• ë•Œ ì ì ˆí•œ ì—ëŸ¬ ë¬¸êµ¬ë¥¼ ì œê³µí•˜ê¸°ê°€ ì–´ë µë‹¤.</p>
  </li>
  <li>
    <p>2nd gen : assert_equal(x,y) , assert_not_equal(x,y)<br />
 ê° ì¡°ê±´ì— ë”°ë¥¸ assertë¬¸ì„ ì œê³µ<br />
 1st genë³´ë‹¨ ì—ëŸ¬ ë¬¸êµ¬ ì œê³µì— ìš©ì´í•˜ì§€ë§Œ ë§ì€ ìˆ˜ì˜ macroê°€ í•„ìš”í•˜ê²Œë¨</p>
  </li>
  <li>
    <p>3rd gen : assert_that(x,equal_to(y), assert_that(x,is_not(equal_to(y))<br />
 assert_that êµ¬ë¬¸, ì´ì™€ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” matcher ê°ì²´ë¥¼ ì œê³µ<br />
 ë‹¤ì–‘í•œ assert êµ¬ë¬¸ì— ëŒ€ì‘í•  ìˆ˜ ìˆìœ¼ë©´ì„œ ì ì ˆí•œ ì—ëŸ¬ ë¬¸êµ¬ë„ ì œê³µí•  ìˆ˜ ìˆìŒ</p>
  </li>
</ul>]]></content><author><name>pss9205</name></author><category term="UnitTest" /><summary type="html"><![CDATA[unit test í”„ë ˆì„ì›Œí¬ë“¤ì€ ë§¤ì¹˜ë˜ëŠ” ì¡°ê±´ë“¤ì„ ì„œìˆ ì ìœ¼ë¡œ ë‚˜ì—´í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œìëŠ” í•„ìš”í•œ match ê·œì¹™ì„ ì§ì ‘ ì¡°í•©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ êµ¬ë¬¸ ì‘ì„±ì´ ê°€ëŠ¥í•´ì§„ë‹¤. javascriptì˜ jestëŠ” expectë¥¼ ì‚¬ìš©í•´ì„œ matcherë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , javaëŠ” hamcrestë¥¼ í†µí•´ ê°€ëŠ¥í•˜ë‹¤.]]></summary></entry><entry><title type="html">Promise &amp;amp; Async/Await</title><link href="http://localhost:4000/javascript/2021/07/05/Promise-AsyncAwait.html" rel="alternate" type="text/html" title="Promise &amp;amp; Async/Await" /><published>2021-07-05T00:17:00+09:00</published><updated>2021-07-05T00:17:00+09:00</updated><id>http://localhost:4000/javascript/2021/07/05/Promise-AsyncAwait</id><content type="html" xml:base="http://localhost:4000/javascript/2021/07/05/Promise-AsyncAwait.html"><![CDATA[<h2 id="callback--asynchronous">Callback &amp; Asynchronous</h2>

<ul>
  <li>ì½œë°±í•¨ìˆ˜<br />
ë‹¤ë¥¸ <code class="language-plaintext highlighter-rouge">ì½”ë“œ</code>ì˜ ì¸ìë¡œ ë„˜ê²¨ì§€ëŠ” í•¨ìˆ˜. ë„˜ê²¨ë°›ì€ <code class="language-plaintext highlighter-rouge">ì½”ë“œ</code>ëŠ” íŠ¹ì • ì¡°ê±´ì´ ë§Œì¡±í•˜ê²Œë˜ë©´ ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ(call back)í•˜ê²Œ ë¨.</li>
</ul>

<p>synchronous callbackì€ ì¦‰ì‹œ í˜¸ì¶œì´ ë˜ê³ , asynchronous callbackì˜ ê²½ìš° íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œëœ í›„ í˜¸ì¶œ ëœë‹¤.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//synchronous callback</span>
<span class="kd">function</span> <span class="nx">printImmediately</span><span class="p">(</span><span class="nx">print</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">print</span><span class="p">();</span>
<span class="p">}</span>
<span class="nx">printImmediately</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello sync</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">//asynchronous callback</span>
<span class="kd">function</span> <span class="nx">printWithDelay</span><span class="p">(</span><span class="nx">print</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">print</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">printWithDelay</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello async</span><span class="dl">"</span><span class="p">),</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•˜ë‹¤ë³´ë©´ ì½œë°±í•¨ìˆ˜ì— ì½œë°±í•¨ìˆ˜ê°€ ì—°ê²°ë˜ëŠ” CallbackChainì´ ë°œìƒí•  ìˆ˜ ìˆìŒ. chainì´ ê¹Šì–´ì§€ë©´ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œê°€ ìƒê¹€
    <ol>
      <li>ë–¨ì–´ì§€ëŠ” ê°€ë…ì„±</li>
      <li>ìœ ì§€ë³´ìˆ˜ ë° ë””ë²„ê¹… ì–´ë ¤ì›€</li>
      <li>Callback Hell - ì½œë°±ì— ì½œë°±ì´ ê¼¬ë¦¬ë¥¼ ë¬´ëŠ” ë¬¸ì œ</li>
    </ol>
  </li>
</ul>

<h2 id="promise">Promise</h2>

<p>PromiseëŠ” ë¹„ë™ê¸°ì  ì‘ì—…ì„ ìœ„í•œ ê°ì²´ë¡œ í•¨ìˆ˜ì— ì½œë°±ì„ ì „ë‹¬í•˜ëŠ”ê²Œ ì•„ë‹Œ, ì½œë°±ì„ ì²¨ë¶€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘.
ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ Callback chainì˜ ë¬¸ì œë¥¼ í•´ê²°í• ìˆ˜ ìˆìŒ.</p>

<ul>
  <li>ê¸°ì¡´ callback ë°©ì‹<br />
Success, failì— í•´ë‹¹í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ asyncí•¨ìˆ˜ì˜ ì¸ìë¡œ ë„˜ê²¨ì£¼ê²Œë¨.<br />
asyncí•¨ìˆ˜ëŠ” ë™ì‘ ê²°ê³¼ì— ë”°ë¼ callback í˜¸ì¶œ</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">successCallback</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Audio file ready at URL: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">result</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">failureCallback</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Error generating audio file: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">error</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">createAudioFileAsync</span><span class="p">(</span><span class="nx">audioSettings</span><span class="p">,</span> <span class="nx">successCallback</span><span class="p">,</span> <span class="nx">failureCallback</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>Promise ë°©ì‹<br />
asyncí•¨ìˆ˜ëŠ” Promiseê°ì²´ë¥¼ ë¦¬í„´í•˜ê³ , callbackí•¨ìˆ˜ë¥¼ ë¦¬í„´ëœ Promiseê°ì²´ì— ë¶™ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">createAudioFileAsync</span><span class="p">(</span><span class="nx">audioSettings</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">successCallback</span><span class="p">,</span> <span class="nx">failureCallback</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>Promiseì˜ State : pending -&gt; fulfilled or rejected</strong></p>

<h3 id="êµ¬ì„±">êµ¬ì„±</h3>

<ul>
  <li>
    <p>Producer vs Consumer</p>

    <p>Producer - Promise ê°ì²´<br />
 ìƒì„± ë˜ëŠ” ìˆœê°„ ë°”ë¡œ execute ë©”ì†Œë“œ ë™ì‘</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//ì‘ì—…ì´ ì„±ê³µí•˜ëŠ” ê²½ìš°(fulfilled) resolveë¥¼, ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°(rejected) resjectë¥¼ í˜¸ì¶œí•œë‹¤.</span>
<span class="kd">const</span> <span class="nx">promise</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">//doing some heavy work</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">doing</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//resolve("test success");</span>
    <span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">no network</span><span class="dl">"</span><span class="p">));</span>
  <span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>    </div>

    <p>Consumer - Promiseê°ì²´ì˜ ì½œë°± í•¨ìˆ˜ë“¤<br />
 then, catch, finallyë¡œ ë™ì‘ ì²˜ë¦¬<br />
 then() - ì‘ì—…ì´ ì„±ê³µí•˜ëŠ” ê²½ìš°ì— ëŒ€í•´ ì •ì˜(ë‘ë²ˆì§¸ ì¸ìë¡œ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš°ì— ëŒ€í•´ ì •ì˜ ê°€ëŠ¥)<br />
 catch() - ì‘ì—…ì´ ì‹¤íŒ¨í•œ ê²½ìš°ì— ëŒ€í•´ ì •ì˜<br />
 finally() - ì„±ê³µ ì‹¤íŒ¨ ìƒê´€ì—†ì´ í•­ìƒ ì²˜ë¦¬ë˜ì•¼ í•˜ëŠ” ê²½ìš°ì— ëŒ€í•´ ì •ì˜</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">promise</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">value</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">))</span>
  <span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">final!</span><span class="dl">"</span><span class="p">));</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Error Handling</p>

    <p>catchë¡œ error ì²˜ë¦¬ ê°€ëŠ¥. ë˜ëŠ” thenì˜ ë‘ë²ˆì§¸ ì¸ì</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">getHen</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span>
    <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="dl">"</span><span class="s2">hen</span><span class="dl">"</span><span class="p">),</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">});</span>
<span class="kd">const</span> <span class="nx">getEgg</span> <span class="o">=</span> <span class="p">(</span><span class="nx">hen</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">hen</span><span class="p">}</span><span class="s2"> =&gt; egg`</span><span class="p">)),</span> <span class="mi">1000</span><span class="p">);</span>


<span class="kd">const</span> <span class="nx">cook</span> <span class="o">=</span> <span class="p">(</span><span class="nx">egg</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">egg</span><span class="p">}</span><span class="s2"> =&gt; fried egg`</span><span class="p">),</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="p">});</span>

<span class="nx">getHen</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">hen</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">getEgg</span><span class="p">(</span><span class="nx">hen</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">"</span><span class="s2">bread</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">})</span> <span class="c1">//ì•ì˜ thenì—ì„œ ë°œìƒí•œ ì—ëŸ¬ ì²˜ë¦¬</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">egg</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">cook</span><span class="p">(</span><span class="nx">egg</span><span class="p">))</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">meal</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">meal</span><span class="p">));</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="promise-chaining">Promise Chaining</h3>

<p>then/catchí•¨ìˆ˜ëŠ” ìƒˆë¡œìš´ promiseë¥¼ ë¦¬í„´í•œë‹¤. ì´ë¥¼ í†µí•´ chainingì´ ê°€ëŠ¥í•˜ë©°, ì´ì „ ë¹„ë™ê¸° ì‘ì—…ì´ ëë‚œí›„ ë‹¤ë¥¸ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆœì°¨ì‹¤í–‰í•  ìˆ˜ ìˆìŒ.</p>

<ol>
  <li>thenì—ì„œ í”„ë¡œë¯¸ìŠ¤ê°€ ë¦¬í„´ë˜ëŠ” ê²½ìš°, PromiseëŠ” ê·¸ ë‹¤ìŒ thenì— ì˜í•´ ì²˜ë¦¬ë¨</li>
  <li>
    <p>Promiseì—ì„œ ê·¸ëƒ¥ ê°’ì„ ë¦¬í„´í•˜ë©´ Promise.resolve()ë¥¼ ë¦¬í„´í•˜ëŠ”ê²ƒê³¼ ê°™ìŒ</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
  <span class="c1">// 1. Promiseë¥¼ ë¦¬í„´í•˜ë¯€ë¡œ, ë‹¤ìŒ thenì€ ì´ í”„ë¡œë¯¸ìŠ¤ì˜ ì‘ì—… ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦° í›„ ì²˜ë¦¬ë¨</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">val</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">val</span><span class="p">));</span> <span class="c1">//9</span>

<span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
  <span class="c1">//1. Promiseê°€ ì•„ë‹Œ ê°’ì´ ë¦¬í„´ë˜ë¯€ë¡œ, ë‹¤ìŒ thenì€ ë°”ë¡œ ê°’ì„ ì²˜ë¦¬í•˜ë ¤í•˜ì—¬ ë‹¤ë¥¸ ê°’ì´ ì¶œë ¥ë¨</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">val</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">val</span><span class="p">));</span> <span class="c1">//ì´ìƒí•œ ê°’</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="promise-method">Promise method</h3>

<ul>
  <li>all : ëª¨ë“  Promiseì˜ ì²˜ë¦¬ë¥¼ ê¸°ë‹¤ë¦¼</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">pickAllFruits</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">getApple</span><span class="p">(),</span> <span class="nx">getBanana</span><span class="p">()]).</span><span class="nx">then</span><span class="p">((</span><span class="nx">fruits</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="nx">fruits</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">"</span><span class="s2"> + </span><span class="dl">"</span><span class="p">)</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="nx">pickAllFruits</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>race : ì–´ëŠ í•œê°œì˜ Promise ì‘ì—…ë§Œ ëë‚˜ë„ ë¦¬í„´</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">pickFirstOne</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">race</span><span class="p">([</span><span class="nx">getApple</span><span class="p">(),</span> <span class="nx">getBanana</span><span class="p">()]);</span>
<span class="p">}</span>

<span class="nx">pickFirstOne</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="async---await">Async - Await</h2>

<p>Promiseì—­ì‹œ ë°˜ë³µì‚¬ìš©ë˜ë©´ ê°€ë…ì„±ì´ ë–¨ì–´ì§</p>

<p>Async - Awaitì„ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ Sequential ì½”ë“œ íë¦„ê³¼ ìœ ì‚¬í•˜ê²Œ ë¹„ë™ê¸° ì½”ë“œ ì‘ì„± ê°€ëŠ¥</p>

<p>Promiseì˜ Syntactic sugar</p>

<h3 id="async">Async</h3>

<ul>
  <li>
    <p>Promise ë°©ì‹</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">fetchUser</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// return `name`; // pending</span>
    <span class="nx">resolve</span><span class="p">(</span><span class="s2">`name`</span><span class="p">);</span> <span class="c1">// fulfilled</span>
    <span class="c1">// reject(new Error(`error`)); // rejected</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">fetchUser</span><span class="p">();</span>
<span class="nx">user</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Async ë°©ì‹</p>

    <p>Asyncë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œ ë¸”ë¡ì´ Promiseë¡œ ë¦¬í„´ë¨</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//function declaration</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchUser</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">`ellie`</span><span class="p">;</span> <span class="c1">//==return Promise.resolve(`ellie`)</span>
<span class="p">}</span>

<span class="c1">//function expression</span>
<span class="kd">const</span> <span class="nx">fetchUser</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">`ellie`</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">//arrow function</span>
<span class="kd">const</span> <span class="nx">fetchUser</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">`ellie`</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">fetchUser</span><span class="p">();</span>
<span class="nx">user</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="await">Await</h3>

<p>asyncê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•¨</p>

<p>í•¨ìˆ˜ì˜ ì‘ì—…ì´ ëë‚ ë•Œê¹Œì§€(fulfilled ë˜ëŠ” rejected) ëŒ€ê¸°</p>

<p>async-awaitì„ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ì–¸ì–´ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì½”ë“œ ì‘ì„±ê°€ëŠ¥</p>

<p>ì—ëŸ¬ì²˜ë¦¬ ì—­ì‹œ try-catchë¥¼ ì‚¬ìš©í•´ì•¼í•¨</p>

<ul>
  <li>
    <p>Promise ë°©ì‹</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">delay</span><span class="p">(</span><span class="nx">ms</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">ms</span><span class="p">));</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getApple</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="s2">`ğŸ`</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">getBanana</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="s2">`ğŸŒ`</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">pickFruits</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">getApple</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">apple</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">getBanana</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">banana</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s2">`</span><span class="p">${</span><span class="nx">apple</span><span class="p">}</span><span class="s2"> + </span><span class="p">${</span><span class="nx">banana</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
<span class="nx">pickFruits</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">));</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Await ë°©ì‹</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">delay</span><span class="p">(</span><span class="nx">ms</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">ms</span><span class="p">));</span>
<span class="p">}</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">getApple</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="k">return</span> <span class="dl">"</span><span class="s2">apple</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">getBanana</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
  <span class="k">return</span> <span class="dl">"</span><span class="s2">banana</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">pickFruits</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">apple</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getApple</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">banana</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getBanana</span><span class="p">();</span>
  <span class="k">return</span> <span class="s2">`</span><span class="p">${</span><span class="nx">apple</span><span class="p">}</span><span class="s2">+</span><span class="p">${</span><span class="nx">banana</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">pickFruits</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>ì¶œì²˜ :
<a href="https://en.wikipedia.org/wiki/Callback_(computer_programming)">wiki-Callback</a>,<a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/">mozilla-Promise</a>,<a href="https://youtu.be/JB_yU6Oe2eE">youtube-Promise</a></p>]]></content><author><name>pss9205</name></author><category term="javascript" /><category term="javascript" /><summary type="html"><![CDATA[Callback &amp; Asynchronous]]></summary></entry><entry><title type="html">vscodeì—ì„œ Jest ìë™ ì™„ì„±ì´ ì•ˆë˜ëŠ” ê²½ìš°</title><link href="http://localhost:4000/javascript/2021/06/23/Jest-Setting.html" rel="alternate" type="text/html" title="vscodeì—ì„œ Jest ìë™ ì™„ì„±ì´ ì•ˆë˜ëŠ” ê²½ìš°" /><published>2021-06-23T00:17:00+09:00</published><updated>2021-06-23T00:17:00+09:00</updated><id>http://localhost:4000/javascript/2021/06/23/Jest-Setting</id><content type="html" xml:base="http://localhost:4000/javascript/2021/06/23/Jest-Setting.html"><![CDATA[<ol>
  <li><code class="language-plaintext highlighter-rouge">npm i @types/jest</code> ì„¤ì¹˜</li>
</ol>

<ul>
  <li>jest ê´€ë ¨ type definitonì„ ê°€ì§€ê³  ìˆëŠ” íŒ¨í‚¤ì§€</li>
</ul>

<ol>
  <li>add jsconfig.jsonë¥¼ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— ì¶”ê°€</li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">jsconfig.json</code> : vscodeì—ì„œ ì‚¬ìš©í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë­ê·€ì§€ ì„œë¹„ìŠ¤ì™€ ê´€ë ¨ëœ ì„¤ì •ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "typeAcquisition": {
        "include": [
            "jest"
        ]
    }
}
</code></pre></div></div>

<pre><code class="language-note">[ìë°”ìŠ¤í¬ë¦½íŠ¸ ë­ê·€ì§€ ì„œë¹„ìŠ¤](https://github.com/microsoft/TypeScript/wiki/JavaScript-Language-Service-in-Visual-Studio) : vs codeì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í¸ì§‘ì„ ì§€ì›í•˜ëŠ” ëª¨ë“ˆ
</code></pre>]]></content><author><name>pss9205</name></author><category term="javascript" /><category term="javascript" /><summary type="html"><![CDATA[npm i @types/jest ì„¤ì¹˜]]></summary></entry><entry><title type="html">Node.JS</title><link href="http://localhost:4000/nodejs/2021/05/31/nodejs.html" rel="alternate" type="text/html" title="Node.JS" /><published>2021-05-31T10:17:00+09:00</published><updated>2021-05-31T10:17:00+09:00</updated><id>http://localhost:4000/nodejs/2021/05/31/nodejs</id><content type="html" xml:base="http://localhost:4000/nodejs/2021/05/31/nodejs.html"><![CDATA[<h2 id="nodejs">Node.JS</h2>

<blockquote>
  <p>Node.jsÂ® is a JavaScript runtime built on Chromeâ€™s V8 JavaScript engine.</p>
</blockquote>

<p>Chrome V8ì„ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ëŸ°íƒ€ì„ ì—”ì§„.<br />
v8ì—”ì§„ ì´ì™¸ì—ë„ libuvë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. libuvëŠ” ë…¸ë“œì˜ íŠ¹ì„±ì¸ ì´ë²¤íŠ¸ ê¸°ë°˜, ë…¼ ë¸”ë¡œí‚¹ IOëª¨ë¸ì„ êµ¬í˜„í•œë‹¤.</p>

<pre><code class="language-note">ëŸ°íƒ€ì„ : íŠ¹ì • ì–¸ì–´ë¡œ ë§Œë“  í”„ë¡œê·¸ë¨ë“¤ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í™˜ê²½
</code></pre>

<h3 id="event-driven">Event-Driven</h3>

<p>ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ ë¯¸ë¦¬ ì§€ì •í•´ë‘” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹
NodeJSëŠ” Event-Driven ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ë©°, ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— ë“±ë¡í•´ë‘” ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”Œâ”€&gt;â”‚           timers          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚     pending callbacks     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚       idle, prepare       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   incoming:   â”‚
â”‚  â”‚           poll            â”‚&lt;â”€â”€â”€â”€â”€â”¤  connections, â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   data, etc.  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚           check           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”¤      close callbacks      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<p>ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì´ë²¤íŠ¸ ë°œìƒ ì‹œ í˜¸ì¶œí•  ì½œë°± í•¨ìˆ˜ë“¤ì„ ê´€ë¦¬í•˜ê³ , í˜¸ì¶œëœ ì½œë°±í•¨ìˆ˜ì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ê²°ì •.<br />
ìœ„ì˜ ê·¸ë¦¼ì²˜ëŸ¼, ì—¬ëŸ¬ ê°œì˜ ë‚´ë¶€ ë‹¨ê³„ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©° ê° ë‹¨ê³„ë§ˆë‹¤ íê°€ ì¡´ì¬í•œë‹¤. ê° íì—ëŠ” ì´ë²¤íŠ¸ ë°œìƒ í›„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë„˜ì–´ì˜¨ íƒ€ì´ë¨¸ë‚˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì˜ ì½œë°±í•¨ìˆ˜ë“¤ì´ ìœ„ì¹˜í•¨. ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë‹¨ê³„ë“¤ì„ RRë°©ì‹ìœ¼ë¡œ ìˆœíšŒí•˜ë©° íì— ìˆëŠ” ê²ƒë“¤ì„ ì²˜ë¦¬í•œë‹¤.</p>

<h3 id="blocking-io-vs-nonblocking-io">Blocking I/O vs NonBlocking I/O</h3>

<p>NodeJSëŠ” I/Oë¥¼ ë…¼ë¸”ë¡œí‚¹ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤. I/Oì‘ì—…ì€ libuvë¡œ ë„˜ê²¨ì§€ê³  ìì‹ ì˜ ìŠ¤ë ˆë“œ í’€ì´ë‚˜, OSì˜ ì»¤ë„ì—ê²Œ ìš”ì²­í•˜ê²Œ ëœë‹¤.
ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì´ë²¤íŠ¸ ë£¨í”„ì— ì•Œë ¤ì£¼ê³  ì½œë°±í•¨ìˆ˜ë¡œ ë“±ë¡ëœë‹¤.</p>

<h4 id="blocking">Blocking</h4>

<p>í˜„ì¬ì˜ I/Oê°€ ì™„ë£Œë ë•Œê¹Œì§€ ì¶”ê°€ Javascript ì‘ì—…ì´ ìˆ˜í–‰ë˜ì§€ ì•Šê³  ëŒ€ê¸° ìƒíƒœì— ë“¤ì–´ê°„ë‹¤.
Blockingì‘ì—…ì´ ìˆ˜í–‰ë˜ëŠ” ì¤‘ì—ëŠ” ì´ë²¤íŠ¸ ë£¨í”„ê°€ ë‹¤ìŒ ì‘ì—…ì„ ê³„ì†í• ìˆ˜ ì—†ìŒ.
NodeJSì—ì„œ ì œê³µë˜ëŠ” ë©”ì†Œë“œì¤‘ Syncë¡œ ëë‚˜ëŠ” ë©”ì†Œë“œë“¤ì´ Blockingìœ¼ë¡œ ë™ì‘í•˜ëŠ” ë©”ì†Œë“œ</p>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">const</span> <span class="nt">fs</span> <span class="o">=</span> <span class="nt">require</span><span class="o">(</span><span class="s1">'fs'</span><span class="o">)</span><span class="p">;</span>
<span class="nt">const</span> <span class="nt">data</span> <span class="o">=</span> <span class="nt">fs</span><span class="nc">.readFileSync</span><span class="o">(</span><span class="s1">'/file.md'</span><span class="o">)</span><span class="p">;</span> <span class="c1">// íŒŒì¼ì´ ë‹¤ ì½ì„ë•Œê¹Œì§€ ë‹¤ìŒ ë©”ì†Œë“œ ì‹¤í–‰ì•ˆë¨</span>
<span class="nt">console</span><span class="nc">.log</span><span class="o">(</span><span class="nt">data</span><span class="o">)</span><span class="p">;</span>
<span class="nt">moreWork</span><span class="o">()</span><span class="p">;</span> <span class="c1">// console.log ì¶œë ¥ í›„ ì‹¤í–‰ë¨</span>
</code></pre></div></div>

<h4 id="non-blocking">Non-Blocking</h4>

<p>I/O ì‘ì—… ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¶”ê°€ JavaScriptì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤.<br />
í•´ë‹¹ ì‘ì—…ì˜ ì½œë°± í•¨ìˆ˜ëŠ” ì´ë²¤íŠ¸ ë£¨í”„ì˜ íì— ì¶”ê°€ë˜ë©°, ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì´ë²¤íŠ¸ ë£¨í”„ì— ì˜í•´ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê²Œ ëœë‹¤.</p>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">function</span> <span class="nt">longTask</span><span class="o">()</span><span class="p">{</span>
	<span class="c1">//some job taking long time..</span>
	<span class="nt">console</span><span class="nc">.log</span><span class="o">(</span><span class="s2">"long long.."</span><span class="o">)</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">console</span><span class="nc">.log</span><span class="o">(</span><span class="s1">'start'</span><span class="o">)</span><span class="p">;</span>
<span class="nt">setTimeout</span><span class="o">(</span><span class="nt">longTask</span><span class="o">,</span><span class="nt">10</span><span class="o">)</span><span class="p">;</span>
<span class="nt">console</span><span class="nc">.log</span><span class="o">(</span><span class="s1">'end'</span><span class="o">)</span><span class="p">;</span> <span class="c1">//longTaskì˜ ì™„ë£Œë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ë™ì‘ ìˆ˜í–‰</span>
</code></pre></div></div>

<h3 id="single-thread">Single Thread</h3>

<p>NodeJSëŠ” ë‚´ë¶€ì— ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ê°€ì§€ì§€ë§Œ ì œì–´í•  ìˆ˜ ìˆëŠ” ê²ƒì€ í•œê°œì˜ ìŠ¤ë ˆë“œì´ë‹¤.<br />
Non-Blockingë°©ì‹ì„ ì´ìš©í•´ ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œë„ ì—¬ëŸ¬ ìš”ì²­ì„ ë™ì‹œì— ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì§„ë‹¤.</p>

<pre><code class="language-tip">íŠ¹ì • ë™ì‘(ì•”í˜¸í™”,IO,ì••ì¶•ë“±)ì„ ìˆ˜í–‰í• ë• ë©€í‹°ìŠ¤ë ˆë“œë¡œ ë™ì‘í•˜ëŠ”ë° ì´ë¥¼ ìŠ¤ë ˆë“œ í’€ì´ë¼ í•œë‹¤.
ë…¸ë“œ 12 ë²„ì „ ì´ìƒì—ì„œëŠ” ì›Œì»¤ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•´ ë©€í‹° ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒë„ ì§€ì›ëœë‹¤.
</code></pre>]]></content><author><name>pss9205</name></author><category term="nodejs" /><category term="node" /><summary type="html"><![CDATA[Node.JS]]></summary></entry></feed>